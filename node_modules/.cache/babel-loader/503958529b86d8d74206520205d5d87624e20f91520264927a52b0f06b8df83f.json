{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ekate\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\studium\\\\tjv\\\\web_lib_client\\\\web_lib_client\\\\src\\\\components\\\\Search.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BookByStoreAndPubl, CheckPublisherExists, CheckBookstoreExists } from './Requests';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Search() {\n  _s();\n  const [books, setBooks] = useState([]);\n  const [publName, setPublName] = useState('');\n  const [storeName, setStoreName] = useState('');\n  const [publisherExists, setPublisherExists] = useState(true);\n  const [bookstoreExists, setBookstoreExists] = useState(true);\n  const [error, setError] = useState('');\n  const fetchBooks = async () => {\n    try {\n      const fetchedBooks = await BookByStoreAndPubl(publName, storeName);\n      setBooks(fetchedBooks);\n    } catch (error) {\n      console.error(\"Error fetching search:\", error);\n    }\n  };\n  const handleSearch = async () => {\n    if (!publName && !storeName) {\n      console.log(\"Please enter both publisher and bookstore before searching.\");\n      setError('Fill all blank spaces');\n      return;\n    }\n    const publisherExists = await CheckPublisherExists(publName);\n    const bookstoreExists = await CheckBookstoreExists(storeName);\n    setPublisherExists(publisherExists);\n    setBookstoreExists(bookstoreExists);\n    if (!publisherExists || !bookstoreExists) {\n      return;\n    }\n    fetchBooks();\n  };\n  useEffect(() => {}, [publName, storeName]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chose specific bookstore and publisher to list awailable books\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Publisher:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: publName,\n        onChange: e => setPublName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Bookstore:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 6\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: storeName,\n        onChange: e => setStoreName(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSearch,\n      children: \"Search\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 5\n    }, this), !publisherExists && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: \"Publisher not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 6\n    }, this), !bookstoreExists && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: \"Bookstore not found\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 6\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 15\n    }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"title\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"genre\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"page number\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"rating\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 8\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            children: \"author\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 8\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: books.map(book => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\" \", book.title, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.genre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.pageNumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: book.ageRating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [book.name, \" \", book.surname]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 9\n          }, this)]\n        }, book.idBook, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Search, \"A/7zUeMuC0OuHe2NWJ2DpveA6+I=\");\n_c = Search;\nexport default Search;\nvar _c;\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","BookByStoreAndPubl","CheckPublisherExists","CheckBookstoreExists","jsxDEV","_jsxDEV","Search","_s","books","setBooks","publName","setPublName","storeName","setStoreName","publisherExists","setPublisherExists","bookstoreExists","setBookstoreExists","error","setError","fetchBooks","fetchedBooks","console","handleSearch","log","children","fileName","_jsxFileName","lineNumber","columnNumber","type","value","onChange","e","target","onClick","style","color","map","book","title","genre","pageNumber","ageRating","name","surname","idBook","_c","$RefreshReg$"],"sources":["C:/Users/ekate/OneDrive/Рабочий стол/studium/tjv/web_lib_client/web_lib_client/src/components/Search.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { BookByStoreAndPubl, CheckPublisherExists, CheckBookstoreExists } from './Requests';\r\n\r\nfunction Search() {\r\n\tconst [books, setBooks] = useState([]);\r\n\tconst [publName, setPublName] = useState('');\r\n\tconst [storeName, setStoreName] = useState('');\r\n\tconst [publisherExists, setPublisherExists] = useState(true);\r\n    const [bookstoreExists, setBookstoreExists] = useState(true);\r\n\tconst [error, setError] = useState('');\r\n\r\n\t\tconst fetchBooks = async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst fetchedBooks = await BookByStoreAndPubl(publName, storeName);\r\n\t\t\t\tsetBooks(fetchedBooks);\r\n\t\t\t} catch (error) {\r\n\t\t\t\tconsole.error(\"Error fetching search:\", error);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\r\n\t\tconst handleSearch = async () => {\r\n\t\t\tif (!publName && !storeName) {\r\n\t\t\t\tconsole.log(\"Please enter both publisher and bookstore before searching.\");\r\n\t\t\t\tsetError('Fill all blank spaces');\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tconst publisherExists = await CheckPublisherExists(publName);\r\n\t\t\tconst bookstoreExists = await CheckBookstoreExists(storeName);\r\n\t\t\t\r\n\t\t\tsetPublisherExists(publisherExists);\r\n\t\t\tsetBookstoreExists(bookstoreExists);\r\n\t  \r\n\t\t\tif (!publisherExists || !bookstoreExists) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tfetchBooks();\r\n\t\t};\r\n\t\t\r\n\t\tuseEffect(() => {\r\n\t\t\t\r\n\t\t}, [publName, storeName]);\r\n\t\r\n\t\r\n  return (\r\n    <div>\r\n      <h1>Chose specific bookstore and publisher to list awailable books</h1>\r\n\t\r\n\t\t\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label>Publisher:</label>\r\n\t\t\t\t\t<input type=\"text\" value={publName} onChange={(e) => setPublName(e.target.value)} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<label>Bookstore:</label>\r\n\t\t\t\t\t<input type=\"text\" value={storeName} onChange={(e) => setStoreName(e.target.value)} />\r\n\t\t\t\t</div>\r\n\t\t\t\t<button onClick={handleSearch}>Search</button>\r\n\t\t\t\t{!publisherExists && (\r\n\t\t\t\t\t<div style={{ color: 'red' }}>Publisher not found</div>\r\n)}\r\n\r\n\t\t\t\t{!bookstoreExists && (\r\n\t\t\t\t\t<div style={{ color: 'red' }}>Bookstore not found</div>\r\n)}\r\n\t\t\t\t{error && <div style={{ color: 'red' }}>{error}</div>}\r\n\r\n\t\t\t\t<table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>title</th>\r\n                            <th>genre</th>\r\n                            <th>page number</th>\r\n\t\t\t\t\t\t\t<th>rating</th>\r\n\t\t\t\t\t\t\t<th>author</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {books.map(book => (\r\n                            <tr key={book.idBook}>{/* No whitespace before or after this line */}\r\n                                <td> {book.title} </td>\r\n                                <td>{book.genre}</td>\r\n                                <td>{book.pageNumber}</td>\r\n                                <td>{book.ageRating}</td>\r\n\t\t\t\t\t\t\t\t<td>{book.name} {book.surname}</td>\r\n                                \r\n                            </tr>\r\n                        ))}\r\n                    </tbody>\r\n                </table>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Search;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}